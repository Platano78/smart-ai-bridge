# Port 8001 Container Replacement - Production Configuration
# Combined YARN 128K production settings with NVIDIA API integration
# RTX 5080 optimized configuration

# Model and Cache Configuration
MODEL_CACHE_PATH=/home/platano/project/deepseek-mcp-bridge/model_cache
HF_TOKEN=

# Container Configuration
CONTAINER_PORT=8001
CONTAINER_NAME=yarn-128k-production
MODEL_NAME=wordslab-org/Qwen2.5-Coder-7B-Instruct-FP8-Dynamic
SERVED_MODEL_NAME=qwen2.5-coder-7b-fp8-dynamic

# YARN 128K Performance Settings
VLLM_GPU_MEMORY_UTILIZATION=0.90
VLLM_MAX_MODEL_LEN=131072
VLLM_ROPE_SCALING_FACTOR=4.0
VLLM_ROPE_THETA=500000
VLLM_ROPE_SCALING_TYPE=yarn

# RTX 5080 Optimizations
VLLM_TENSOR_PARALLEL_SIZE=1
VLLM_DTYPE=auto
VLLM_ENABLE_PREFIX_CACHING=true
VLLM_MAX_PADDINGS=256

# NVIDIA API Configuration (Working Key)
NVIDIA_API_KEY=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
NVIDIA_DEEPSEEK_API_KEY=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
NVIDIA_QWEN_API_KEY=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

# Local Endpoint Configuration
DEEPSEEK_ENDPOINT=http://172.23.16.1:8001/v1
LOCAL_MODEL_ENDPOINT=http://localhost:8001/v1

# MKG Server Configuration
MKG_SERVER_PORT=8001
MKG_SERVER_HOST=localhost
MKG_FALLBACK_ENABLED=true

# Health and Monitoring
MONITOR_INTERVAL=5000
METRICS_RETENTION_HOURS=48
LOG_LEVEL=info
HEALTH_CHECK_GRACE_PERIOD=30
HEALTH_CHECK_INTERVAL=30

# API Keys for External Services
DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}
QWEN_CLOUD_API_KEY=${QWEN_CLOUD_API_KEY}
OPENAI_API_KEY=${OPENAI_API_KEY}

# Development and Testing
NODE_ENV=production
MCP_SERVER_MODE=true
TDD_MODE=false

# Docker Configuration
DOCKER_COMPOSE_FILE=docker-compose.yarn-128k-production.yml
DOCKER_NETWORK=vllm-network

# Validation Settings
VALIDATION_TIMEOUT=30000
MAX_RETRIES=3
STARTUP_GRACE_PERIOD=120

# Performance Tuning
WORKER_USE_RAY=false
ENGINE_USE_RAY=false
ENABLE_CHUNKED_PREFILL=true
MAX_NUM_SEQS=256